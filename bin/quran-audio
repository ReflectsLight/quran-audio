#!/usr/bin/env ruby
# frozen_string_literal: true

lib_dir = File.join(__dir__, "..", "lib", "quran-audio")
require File.join(lib_dir, "libexec")

case ARGV[0]
when "pull"
  wait spawn("pull", *ARGV[1..])
  exit $?.exitstatus
when "ls"
  wait spawn("ls", *ARGV[1..])
  exit $?.exitstatus
when "gzip"
  wait spawn("gzip", *ARGV[1..])
  exit $?.exitstatus
when "time_slots"
  wait spawn("time_slots", *ARGV[1..])
  exit $?.exitstatus
else
  warn "Usage: quran-audio pull|ls [OPTIONS]"
end
